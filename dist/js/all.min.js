'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var kah = kah || {};
kah.tentconfigurator = kah.tentconfigurator || {};
kah.tentconfigurator.googleAPILoaded = new Promise(function (resolve) {
  jQuery(window).on('kahGoogleAPILoaded', function () {
    resolve();
  });
});

kah.tentconfigurator.Tent = function Tent(id, title, price, length, width, minPersons, maxPersons) {
  _classCallCheck(this, Tent);

  this.id = id;
  this.title = title;
  this.price = price;
  this.length = length;
  this.width = width;
  this.minPersons = minPersons;
  this.maxPersons = maxPersons;
  this.squareMeter = this.length * this.width;
};

kah.tentconfigurator.Equipment = function Equipment(id, title, price, description) {
  _classCallCheck(this, Equipment);

  this.id = id;
  this.title = title;
  this.price = price;
  this.description = description;
};

kah.tentconfigurator.WizardStep = function () {
  function WizardStep() {
    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var wizardForm = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

    _classCallCheck(this, WizardStep);

    this.name = name;
    this.active = ko.observable(false);
    this.activeSubStep = ko.observable();
    this.wizardForm = wizardForm;
    this.isVisible = ko.computed(function () {
      return this.active() && !this.activeSubStep();
    }, this);
  }

  _createClass(WizardStep, [{
    key: 'openSubStep',
    value: function openSubStep(substep) {
      substep.active(true);
      this.activeSubStep(substep);
    }
  }, {
    key: 'closeSubStep',
    value: function closeSubStep() {
      this.activeSubStep().active(false);
      this.activeSubStep(null);
    }
  }, {
    key: 'removeDataRow',
    value: function removeDataRow() {
      throw new Error('Override this function');
    }
  }]);

  return WizardStep;
}();

kah.tentconfigurator.WizardSubStep = function (_kah$tentconfigurator) {
  _inherits(WizardSubStep, _kah$tentconfigurator);

  function WizardSubStep(parent) {
    var _ref;

    _classCallCheck(this, WizardSubStep);

    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = WizardSubStep.__proto__ || Object.getPrototypeOf(WizardSubStep)).call.apply(_ref, [this].concat(args)));

    _this.parent = parent;
    _this.isVisible = ko.computed(function () {
      return this.active() && this.parent.active();
    }, _this);
    return _this;
  }

  return WizardSubStep;
}(kah.tentconfigurator.WizardStep);

kah.tentconfigurator.WizardStepTents = function (_kah$tentconfigurator2) {
  _inherits(WizardStepTents, _kah$tentconfigurator2);

  function WizardStepTents() {
    var _ref2;

    _classCallCheck(this, WizardStepTents);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    var _this2 = _possibleConstructorReturn(this, (_ref2 = WizardStepTents.__proto__ || Object.getPrototypeOf(WizardStepTents)).call.apply(_ref2, [this].concat(args)));

    _this2.selectTentsSubStep = new kah.tentconfigurator.WizardStepSelectTents(_this2);
    _this2.openSubStep(_this2.selectTentsSubStep);
    return _this2;
  }

  _createClass(WizardStepTents, [{
    key: 'openSelectTent',
    value: function openSelectTent() {
      this.openSubStep(this.selectTentsSubStep);
    }
  }, {
    key: 'removeDataRow',
    value: function removeDataRow(tent) {
      this.wizardForm.selectedTents.remove(tent);
    }
  }]);

  return WizardStepTents;
}(kah.tentconfigurator.WizardStep);

kah.tentconfigurator.WizardStepEquipment = function (_kah$tentconfigurator3) {
  _inherits(WizardStepEquipment, _kah$tentconfigurator3);

  function WizardStepEquipment() {
    var _ref3;

    _classCallCheck(this, WizardStepEquipment);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    var _this3 = _possibleConstructorReturn(this, (_ref3 = WizardStepEquipment.__proto__ || Object.getPrototypeOf(WizardStepEquipment)).call.apply(_ref3, [this].concat(args)));

    _this3.selectEquipmentubStep = new kah.tentconfigurator.WizardStepSelectEquipment(_this3);
    _this3.openSubStep(_this3.selectEquipmentubStep);
    return _this3;
  }

  _createClass(WizardStepEquipment, [{
    key: 'openSelectEquipment',
    value: function openSelectEquipment() {
      this.openSubStep(this.selectEquipmentubStep);
    }
  }, {
    key: 'removeDataRow',
    value: function removeDataRow(equipment) {
      this.wizardForm.selectedEquipment.remove(equipment);
    }
  }]);

  return WizardStepEquipment;
}(kah.tentconfigurator.WizardStep);

kah.tentconfigurator.WizardStepEvent = function (_kah$tentconfigurator4) {
  _inherits(WizardStepEvent, _kah$tentconfigurator4);

  function WizardStepEvent() {
    _classCallCheck(this, WizardStepEvent);

    return _possibleConstructorReturn(this, (WizardStepEvent.__proto__ || Object.getPrototypeOf(WizardStepEvent)).apply(this, arguments));
  }

  return WizardStepEvent;
}(kah.tentconfigurator.WizardStep);

kah.tentconfigurator.WizardStepContact = function (_kah$tentconfigurator5) {
  _inherits(WizardStepContact, _kah$tentconfigurator5);

  function WizardStepContact() {
    var _ref4;

    _classCallCheck(this, WizardStepContact);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    var _this5 = _possibleConstructorReturn(this, (_ref4 = WizardStepContact.__proto__ || Object.getPrototypeOf(WizardStepContact)).call.apply(_ref4, [this].concat(args)));

    _this5.availableGenders = ko.observableArray(['Herr', 'Frau']);
    return _this5;
  }

  return WizardStepContact;
}(kah.tentconfigurator.WizardStep);

kah.tentconfigurator.WizardStepSelectTents = function (_kah$tentconfigurator6) {
  _inherits(WizardStepSelectTents, _kah$tentconfigurator6);

  function WizardStepSelectTents(parent) {
    var _ref5;

    _classCallCheck(this, WizardStepSelectTents);

    for (var _len5 = arguments.length, args = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
      args[_key5 - 1] = arguments[_key5];
    }

    return _possibleConstructorReturn(this, (_ref5 = WizardStepSelectTents.__proto__ || Object.getPrototypeOf(WizardStepSelectTents)).call.apply(_ref5, [this, parent].concat(args)));
  }

  _createClass(WizardStepSelectTents, [{
    key: 'selectTent',
    value: function selectTent(tent) {
      this.parent.wizardForm.selectedTents.push(Object.assign(new kah.tentconfigurator.Tent(), tent));
      this.parent.closeSubStep();
    }
  }]);

  return WizardStepSelectTents;
}(kah.tentconfigurator.WizardSubStep);

kah.tentconfigurator.WizardStepSelectEquipment = function (_kah$tentconfigurator7) {
  _inherits(WizardStepSelectEquipment, _kah$tentconfigurator7);

  function WizardStepSelectEquipment() {
    _classCallCheck(this, WizardStepSelectEquipment);

    return _possibleConstructorReturn(this, (WizardStepSelectEquipment.__proto__ || Object.getPrototypeOf(WizardStepSelectEquipment)).apply(this, arguments));
  }

  _createClass(WizardStepSelectEquipment, [{
    key: 'selectEquipment',
    value: function selectEquipment(equipment) {
      this.parent.wizardForm.selectedEquipment.push(Object.assign(new kah.tentconfigurator.Equipment(), equipment));
      this.parent.closeSubStep();
    }
  }]);

  return WizardStepSelectEquipment;
}(kah.tentconfigurator.WizardSubStep);

kah.tentconfigurator.WizardForm = function () {
  function WizardForm() {
    _classCallCheck(this, WizardForm);

    this.firstName = ko.observable();
    this.lastName = ko.observable();
    this.salutation = ko.observable();
    this.company = ko.observable();
    this.street = ko.observable();
    this.streetnr = ko.observable();
    this.zip = ko.observable();
    this.location = ko.observable();
    this.email = ko.observable();
    this.phone = ko.observable();
    this.comment = ko.observable();
    this.acceptTerms = ko.observable(false);

    this.eventname = ko.observable();
    this.eventdays = ko.observable(1);
    this.eventlocation = ko.observable();
    this.eventlocationdistance = ko.observable(0);
    this.eventstartdate = ko.observable();

    this.tents = ko.observableArray();
    this.equipment = ko.observableArray();
    this.selectedTents = ko.observableArray();
    this.selectedEquipment = ko.observableArray();
    this.transportPrice = ko.computed(function () {
      if (this.eventlocationdistance() <= 10000) {
        return 0;
      } else {
        // 50.- each 30km * 2 (for twice the distance)
        return Math.ceil(this.eventlocationdistance() / 1000 / 30) * 50 * 2;
      }
    }, this);
    this.totalTentsPrice = ko.computed(function () {
      return this._count_objs_attribute(this.selectedTents(), 'price');
    }, this);
    this.totalEquipmentPrice = ko.computed(function () {
      return this._count_objs_attribute(this.selectedEquipment(), 'price');
    }, this);
    this.totalPrice = ko.computed(function () {
      // Includes the eventdays
      return (this.totalTentsPrice() + this.totalEquipmentPrice()) * this.eventdays() + this.transportPrice();
    }, this);
    this.totalMinPersons = ko.computed(function () {
      return this._count_objs_attribute(this.selectedTents(), 'minPersons');
    }, this);
    this.totalMaxPersons = ko.computed(function () {
      return this._count_objs_attribute(this.selectedTents(), 'maxPersons');
    }, this);
    this.totalSquareMeters = ko.computed(function () {
      return this._count_objs_attribute(this.selectedTents(), 'squareMeter');
    }, this);
  }

  _createClass(WizardForm, [{
    key: '_count_objs_attribute',
    value: function _count_objs_attribute(objs, attr) {
      var total = 0;
      objs.forEach(function (obj) {
        total += obj[attr];
      });
      return total;
    }
  }]);

  return WizardForm;
}();

kah.tentconfigurator.Wizard = function () {
  function Wizard() {
    _classCallCheck(this, Wizard);

    this.debug = false;
    if (typeof ajaxurl === 'undefined') {
      // wordpress sets the ajaxurl in the global scope.
      // If the ajaxurl is not initialized, we are not in a wordpress
      // environment.
      this.debug = true;
    }
    this.loadData();
    this.form = new kah.tentconfigurator.WizardForm();
    // 0 = Fillout, 1 = Success, 2 = Error, 3 = pending, 4 = FormValidation error
    this.mode = ko.observable(0);
    this.submitted = ko.observable(false);
    this.steps = ko.observableArray([new kah.tentconfigurator.WizardStepTents('Zelt', this.form), new kah.tentconfigurator.WizardStepEquipment('Zubehör', this.form), new kah.tentconfigurator.WizardStepEvent('Anlass', this.form), new kah.tentconfigurator.WizardStepContact('Kontakt', this.form)]);
    this.addressNotFound = ko.observable(false);
    this.currentStep = ko.observable(this.steps()[0]);
    this.isLastStep = ko.computed(function () {
      return this.currentWizardStepId() >= this.steps().length - 1;
    }, this);
    this.showPrevButton = ko.computed(function () {
      return this.currentWizardStepId() > 0;
    }, this);
    this.nextButtonText = ko.computed(function () {
      if (this.isLastStep()) {
        return "Offerte anfordern";
      }
      return "Weiter";
    }, this);
    this.showNextButton = true;
    ko.computed(function () {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.steps()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var step = _step.value;

          step.active(false);
          if (this.currentStep() == step) {
            step.active(true);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }, this);
    jQuery(document).on('focusout', 'input[required], select[required]', function (self) {
      return function () {
        self.validateField(this);
      };
    }(this));
    kah.tentconfigurator.googleAPILoaded.then(function (self) {
      return function () {
        self.initGoogleSearch();
      };
    }(this));
  }

  _createClass(Wizard, [{
    key: 'next',
    value: function next() {
      if (this.isLastStep()) {
        this.send();
      } else {
        this.currentStep(this.steps()[this.currentWizardStepId() + 1]);
      }
    }
  }, {
    key: 'previous',
    value: function previous() {
      this.currentStep(this.steps()[this.currentWizardStepId() - 1]);
    }
  }, {
    key: 'loadData',
    value: function loadData() {
      var self = this;
      var request = this._make_request({ action: 'kah_get_data' });
      request.then(function (response) {
        var tents = [];
        var equipment = [];
        if (self.debug) {
          tents = [new kah.tentconfigurator.Tent(1, 'Zelttitel 1', 0, 4, 20, 100, 150), new kah.tentconfigurator.Tent(2, 'Zelttitel 2', 30, 8, 20, 200, 300), new kah.tentconfigurator.Tent(3, 'Zelttitel 3', 50, 12, 20, 150, 300)];
          equipment = [new kah.tentconfigurator.Equipment(1, 'Lampe', 5, 'kleine Lampe für das DJ Pult'), new kah.tentconfigurator.Equipment(2, 'Bodenplatte 30x30 cm', 0, 'Um den Boden zu schützen'), new kah.tentconfigurator.Equipment(3, 'Tisch - 3 Meter ', 9, "für 6 Personen"), new kah.tentconfigurator.Equipment(4, 'Tisch - 5 Meter ', 9, "für 9 Personen")];
        } else {
          response.tents.forEach(function (tent) {
            tents.push(new kah.tentconfigurator.Tent(tent.id, tent.title, tent.price, tent.length, tent.width, tent.minPersons, tent.maxPersons));
          });
          response.equipment.forEach(function (equipmentItem) {
            equipment.push(new kah.tentconfigurator.Equipment(equipmentItem.id, equipmentItem.title, equipmentItem.price, equipmentItem.description));
          });
        }
        self.form.tents(tents);
        self.form.equipment(equipment);
      });
    }
  }, {
    key: 'send',
    value: function send() {
      jQuery(window).scrollTop(0);
      if (!this.validateForm()) {
        this.mode(4);
        return;
      }
      this.mode(3);
      var self = this;
      var data = {
        action: 'kah_send_offer',
        salutation: this.form.salutation(),
        firstName: this.form.firstName(),
        lastName: this.form.lastName(),
        company: this.form.company(),
        street: this.form.street(),
        streetnr: this.form.streetnr(),
        zip: this.form.zip(),
        location: this.form.location(),
        email: this.form.email(),
        phone: this.form.phone(),
        comment: this.form.comment(),
        acceptTerms: this.form.acceptTerms(),
        eventname: this.form.eventname(),
        eventdays: this.form.eventdays(),
        eventlocation: this.form.eventlocation(),
        eventlocationdistance: this.form.eventlocationdistance(),
        eventstartdate: this.form.eventstartdate(),
        transportPrice: this.form.transportPrice(),
        totalTentsPrice: this.form.totalTentsPrice(),
        totalEquipmentPrice: this.form.totalEquipmentPrice(),
        totalPrice: this.form.totalPrice(),
        totalMinPersons: this.form.totalMinPersons(),
        totalMaxPersons: this.form.totalMaxPersons(),
        totalSquareMeters: this.form.totalSquareMeters(),
        selectedTents: this.form.selectedTents(),
        selectedEquipment: this.form.selectedEquipment()
      };

      var request = this._make_request(data);
      request.then(function () {
        self.mode(1);self.submitted(true);
      }, function () {
        self.mode(2);
      });
    }
  }, {
    key: 'readablePrice',
    value: function readablePrice(price) {
      return price + ' CHF';
    }
  }, {
    key: 'readablePersons',
    value: function readablePersons(minPersons, maxPersons) {
      return minPersons + ' - ' + maxPersons + ' Personen';
    }
  }, {
    key: 'currentWizardStepId',
    value: function currentWizardStepId() {
      return this.steps().indexOf(this.currentStep());
    }
  }, {
    key: '_make_request',
    value: function _make_request(data) {
      var self = this;
      return new Promise(function (resolve, reject) {

        if (self.debug) {
          window.setTimeout(function () {
            resolve();
          }, 2000);
        } else {
          jQuery.post(ajaxurl, data).done(function (response) {
            if (typeof response.success !== 'undefined' && !response.success) {
              reject();
            } else {
              resolve(response);
            }
          }).fail(function (error) {
            reject(error);
          });
        }
      });
    }
  }, {
    key: 'validateForm',
    value: function validateForm() {
      var isInvalidForm = false;
      jQuery('#wizard-form input[required], #wizard-form select[required]').each(function (self) {
        return function (counter, field) {
          if (!self.validateField(field)) {
            if (!isInvalidForm) {
              self.currentStep(ko.dataFor(jQuery(field).closest('.wizardStepView')[0]));
              isInvalidForm = true;
            }
          }
        };
      }(this));
      return !isInvalidForm; // Returns true if the form is valid
    }
  }, {
    key: 'validateField',
    value: function validateField(field) {
      var msgBox = jQuery('.formValidationError', jQuery(field).closest('td'))[0];
      if (field.checkValidity()) {
        jQuery(msgBox).hide();
        return true;
      } else {
        msgBox.innerHTML = field.validationMessage;
        jQuery(msgBox).show();
        return false;
      }
    }
  }, {
    key: 'calculateDistance',
    value: function calculateDistance(place) {
      var self = this;
      if (typeof place === 'undefined') {
        self.addressNotFound(true);
        return;
      }

      var origin = 'Hauptstrasse 95, 1715 Alterswil, Schweiz';
      var destination = new google.maps.LatLng(place.geometry.location.lat(), place.geometry.location.lng());
      var service = new google.maps.DistanceMatrixService();
      service.getDistanceMatrix({
        origins: [origin],
        destinations: [destination],
        travelMode: google.maps.TravelMode.DRIVING }, function (response, status) {
        if (status == google.maps.DistanceMatrixStatus.OK) {
          var distancematrix = response.rows[0].elements[0];
          if (distancematrix.status == google.maps.DistanceMatrixStatus.OK) {
            self.form.eventlocationdistance(distancematrix.distance.value);
            self.addressNotFound(false);
          }
        }
      });
    }
  }, {
    key: 'initGoogleSearch',
    value: function initGoogleSearch() {
      var input = document.getElementById('eventlocation');
      var searchBox = new google.maps.places.SearchBox(input);
      searchBox.addListener('places_changed', function (self) {
        return function () {
          self.calculateDistance(searchBox.getPlaces()[0]);
        };
      }(this));
      google.maps.event.addDomListener(input, 'keydown', function (e) {
        if (e.keyCode == 13) {
          e.preventDefault();
        }
      });
    }
  }]);

  return Wizard;
}();

kah.tentconfigurator.initGoogleSearch = function () {
  jQuery(window).trigger('kahGoogleAPILoaded');
};

jQuery(window).on('load', function () {
  if (jQuery('#wizard-form').length > 0) {
    ko.applyBindings(new kah.tentconfigurator.Wizard(), document.getElementById('wizard-form'));
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsia2FoIiwidGVudGNvbmZpZ3VyYXRvciIsImdvb2dsZUFQSUxvYWRlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwialF1ZXJ5Iiwid2luZG93Iiwib24iLCJUZW50IiwiaWQiLCJ0aXRsZSIsInByaWNlIiwibGVuZ3RoIiwid2lkdGgiLCJtaW5QZXJzb25zIiwibWF4UGVyc29ucyIsInNxdWFyZU1ldGVyIiwiRXF1aXBtZW50IiwiZGVzY3JpcHRpb24iLCJXaXphcmRTdGVwIiwibmFtZSIsIndpemFyZEZvcm0iLCJhY3RpdmUiLCJrbyIsIm9ic2VydmFibGUiLCJhY3RpdmVTdWJTdGVwIiwiaXNWaXNpYmxlIiwiY29tcHV0ZWQiLCJzdWJzdGVwIiwiRXJyb3IiLCJXaXphcmRTdWJTdGVwIiwicGFyZW50IiwiYXJncyIsIldpemFyZFN0ZXBUZW50cyIsInNlbGVjdFRlbnRzU3ViU3RlcCIsIldpemFyZFN0ZXBTZWxlY3RUZW50cyIsIm9wZW5TdWJTdGVwIiwidGVudCIsInNlbGVjdGVkVGVudHMiLCJyZW1vdmUiLCJXaXphcmRTdGVwRXF1aXBtZW50Iiwic2VsZWN0RXF1aXBtZW50dWJTdGVwIiwiV2l6YXJkU3RlcFNlbGVjdEVxdWlwbWVudCIsImVxdWlwbWVudCIsInNlbGVjdGVkRXF1aXBtZW50IiwiV2l6YXJkU3RlcEV2ZW50IiwiV2l6YXJkU3RlcENvbnRhY3QiLCJhdmFpbGFibGVHZW5kZXJzIiwib2JzZXJ2YWJsZUFycmF5IiwicHVzaCIsIk9iamVjdCIsImFzc2lnbiIsImNsb3NlU3ViU3RlcCIsIldpemFyZEZvcm0iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNhbHV0YXRpb24iLCJjb21wYW55Iiwic3RyZWV0Iiwic3RyZWV0bnIiLCJ6aXAiLCJsb2NhdGlvbiIsImVtYWlsIiwicGhvbmUiLCJjb21tZW50IiwiYWNjZXB0VGVybXMiLCJldmVudG5hbWUiLCJldmVudGRheXMiLCJldmVudGxvY2F0aW9uIiwiZXZlbnRsb2NhdGlvbmRpc3RhbmNlIiwiZXZlbnRzdGFydGRhdGUiLCJ0ZW50cyIsInRyYW5zcG9ydFByaWNlIiwiTWF0aCIsImNlaWwiLCJ0b3RhbFRlbnRzUHJpY2UiLCJfY291bnRfb2Jqc19hdHRyaWJ1dGUiLCJ0b3RhbEVxdWlwbWVudFByaWNlIiwidG90YWxQcmljZSIsInRvdGFsTWluUGVyc29ucyIsInRvdGFsTWF4UGVyc29ucyIsInRvdGFsU3F1YXJlTWV0ZXJzIiwib2JqcyIsImF0dHIiLCJ0b3RhbCIsImZvckVhY2giLCJvYmoiLCJXaXphcmQiLCJkZWJ1ZyIsImFqYXh1cmwiLCJsb2FkRGF0YSIsImZvcm0iLCJtb2RlIiwic3VibWl0dGVkIiwic3RlcHMiLCJhZGRyZXNzTm90Rm91bmQiLCJjdXJyZW50U3RlcCIsImlzTGFzdFN0ZXAiLCJjdXJyZW50V2l6YXJkU3RlcElkIiwic2hvd1ByZXZCdXR0b24iLCJuZXh0QnV0dG9uVGV4dCIsInNob3dOZXh0QnV0dG9uIiwic3RlcCIsImRvY3VtZW50Iiwic2VsZiIsInZhbGlkYXRlRmllbGQiLCJ0aGVuIiwiaW5pdEdvb2dsZVNlYXJjaCIsInNlbmQiLCJyZXF1ZXN0IiwiX21ha2VfcmVxdWVzdCIsImFjdGlvbiIsInJlc3BvbnNlIiwiZXF1aXBtZW50SXRlbSIsInNjcm9sbFRvcCIsInZhbGlkYXRlRm9ybSIsImRhdGEiLCJpbmRleE9mIiwicmVqZWN0Iiwic2V0VGltZW91dCIsInBvc3QiLCJkb25lIiwic3VjY2VzcyIsImZhaWwiLCJlcnJvciIsImlzSW52YWxpZEZvcm0iLCJlYWNoIiwiY291bnRlciIsImZpZWxkIiwiZGF0YUZvciIsImNsb3Nlc3QiLCJtc2dCb3giLCJjaGVja1ZhbGlkaXR5IiwiaGlkZSIsImlubmVySFRNTCIsInZhbGlkYXRpb25NZXNzYWdlIiwic2hvdyIsInBsYWNlIiwib3JpZ2luIiwiZGVzdGluYXRpb24iLCJnb29nbGUiLCJtYXBzIiwiTGF0TG5nIiwiZ2VvbWV0cnkiLCJsYXQiLCJsbmciLCJzZXJ2aWNlIiwiRGlzdGFuY2VNYXRyaXhTZXJ2aWNlIiwiZ2V0RGlzdGFuY2VNYXRyaXgiLCJvcmlnaW5zIiwiZGVzdGluYXRpb25zIiwidHJhdmVsTW9kZSIsIlRyYXZlbE1vZGUiLCJEUklWSU5HIiwic3RhdHVzIiwiRGlzdGFuY2VNYXRyaXhTdGF0dXMiLCJPSyIsImRpc3RhbmNlbWF0cml4Iiwicm93cyIsImVsZW1lbnRzIiwiZGlzdGFuY2UiLCJ2YWx1ZSIsImlucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZWFyY2hCb3giLCJwbGFjZXMiLCJTZWFyY2hCb3giLCJhZGRMaXN0ZW5lciIsImNhbGN1bGF0ZURpc3RhbmNlIiwiZ2V0UGxhY2VzIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJ0cmlnZ2VyIiwiYXBwbHlCaW5kaW5ncyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7QUFDQUEsSUFBSUMsZ0JBQUosR0FBdUJELElBQUlDLGdCQUFKLElBQXdCLEVBQS9DO0FBQ0FELElBQUlDLGdCQUFKLENBQXFCQyxlQUFyQixHQUF1QyxJQUFJQyxPQUFKLENBQVksVUFBU0MsT0FBVCxFQUFrQjtBQUNuRUMsU0FBT0MsTUFBUCxFQUFlQyxFQUFmLENBQWtCLG9CQUFsQixFQUF3QyxZQUFXO0FBQ2pESDtBQUNELEdBRkQ7QUFHRCxDQUpzQyxDQUF2Qzs7QUFNQUosSUFBSUMsZ0JBQUosQ0FBcUJPLElBQXJCLEdBQ0UsY0FBWUMsRUFBWixFQUFnQkMsS0FBaEIsRUFBdUJDLEtBQXZCLEVBQThCQyxNQUE5QixFQUFzQ0MsS0FBdEMsRUFBNkNDLFVBQTdDLEVBQXlEQyxVQUF6RCxFQUFxRTtBQUFBOztBQUNuRSxPQUFLTixFQUFMLEdBQVVBLEVBQVY7QUFDQSxPQUFLQyxLQUFMLEdBQWFBLEtBQWI7QUFDQSxPQUFLQyxLQUFMLEdBQWFBLEtBQWI7QUFDQSxPQUFLQyxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxPQUFLQyxLQUFM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QUFDRCxTQUZEO0FBR0QsT0FKdUMsQ0FJdEMsSUFKc0MsQ0FBeEM7QUFLQTdCLGFBQU9DLElBQVAsQ0FBWTZCLEtBQVosQ0FBa0JDLGNBQWxCLENBQWlDVCxLQUFqQyxFQUF3QyxTQUF4QyxFQUFtRCxVQUFTVSxDQUFULEVBQVk7QUFDN0QsWUFBSUEsRUFBRUMsT0FBRixJQUFhLEVBQWpCLEVBQXFCO0FBQ2pCRCxZQUFFRSxjQUFGO0FBQ0g7QUFDRixPQUpEO0FBS0Q7QUFuUEg7O0FBQUE7QUFBQTs7QUFzUEE5SyxJQUFJQyxnQkFBSixDQUFxQjBHLGdCQUFyQixHQUF3QyxZQUFXO0FBQ2pEdEcsU0FBT0MsTUFBUCxFQUFleUssT0FBZixDQUF1QixvQkFBdkI7QUFDRCxDQUZEOztBQUlBMUssT0FBT0MsTUFBUCxFQUFlQyxFQUFmLENBQWtCLE1BQWxCLEVBQTBCLFlBQVc7QUFDbkMsTUFBSUYsT0FBTyxjQUFQLEVBQXVCTyxNQUF2QixHQUFnQyxDQUFwQyxFQUF1QztBQUNyQ1csT0FBR3lKLGFBQUgsQ0FBaUIsSUFBSWhMLElBQUlDLGdCQUFKLENBQXFCc0YsTUFBekIsRUFBakIsRUFBb0RnQixTQUFTNEQsY0FBVCxDQUF3QixhQUF4QixDQUFwRDtBQUNEO0FBQ0YsQ0FKRCIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGthaCA9IGthaCB8fCB7fTtcbmthaC50ZW50Y29uZmlndXJhdG9yID0ga2FoLnRlbnRjb25maWd1cmF0b3IgfHwge307XG5rYWgudGVudGNvbmZpZ3VyYXRvci5nb29nbGVBUElMb2FkZWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gIGpRdWVyeSh3aW5kb3cpLm9uKCdrYWhHb29nbGVBUElMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICByZXNvbHZlKCk7XG4gIH0pO1xufSk7XG5cbmthaC50ZW50Y29uZmlndXJhdG9yLlRlbnQgPSBjbGFzcyBUZW50IHtcbiAgY29uc3RydWN0b3IoaWQsIHRpdGxlLCBwcmljZSwgbGVuZ3RoLCB3aWR0aCwgbWluUGVyc29ucywgbWF4UGVyc29ucykge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5wcmljZSA9IHByaWNlO1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLm1pblBlcnNvbnMgPSBtaW5QZXJzb25zO1xuICAgIHRoaXMubWF4UGVyc29ucyA9IG1heFBlcnNvbnM7XG4gICAgdGhpcy5zcXVhcmVNZXRlciA9IHRoaXMubGVuZ3RoICogdGhpcy53aWR0aDtcbiAgfVxufTtcblxua2FoLnRlbnRjb25maWd1cmF0b3IuRXF1aXBtZW50ID0gY2xhc3MgRXF1aXBtZW50IHtcbiAgY29uc3RydWN0b3IoaWQsIHRpdGxlLCBwcmljZSwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMucHJpY2UgPSBwcmljZTsgXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB9XG59O1xuXG5rYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdGVwID0gY2xhc3MgV2l6YXJkU3RlcCB7XG4gIGNvbnN0cnVjdG9yKG5hbWU9JycsIHdpemFyZEZvcm09bnVsbCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5hY3RpdmUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmFjdGl2ZVN1YlN0ZXAgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy53aXphcmRGb3JtID0gd2l6YXJkRm9ybTtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlKCkgJiYgIXRoaXMuYWN0aXZlU3ViU3RlcCgpO1xuICAgIH0sIHRoaXMpO1xuICB9XG4gIG9wZW5TdWJTdGVwKHN1YnN0ZXApIHtcbiAgICBzdWJzdGVwLmFjdGl2ZSh0cnVlKTtcbiAgICB0aGlzLmFjdGl2ZVN1YlN0ZXAoc3Vic3RlcCk7XG4gIH1cbiAgY2xvc2VTdWJTdGVwKCkge1xuICAgIHRoaXMuYWN0aXZlU3ViU3RlcCgpLmFjdGl2ZShmYWxzZSk7XG4gICAgdGhpcy5hY3RpdmVTdWJTdGVwKG51bGwpO1xuICB9XG4gIHJlbW92ZURhdGFSb3coKSB7IHRocm93IG5ldyBFcnJvcignT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbicpOyB9XG59O1xuXG5rYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdWJTdGVwID0gY2xhc3MgV2l6YXJkU3ViU3RlcCBleHRlbmRzIGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXAge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlKCkgJiYgdGhpcy5wYXJlbnQuYWN0aXZlKCk7XG4gICAgfSwgdGhpcyk7XG4gIH1cbn07XG5cbmthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBUZW50cyA9IGNsYXNzIFdpemFyZFN0ZXBUZW50cyBleHRlbmRzIGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXAge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgc3VwZXIoLi4uYXJncyk7XG4gICAgdGhpcy5zZWxlY3RUZW50c1N1YlN0ZXAgPSBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkU3RlcFNlbGVjdFRlbnRzKHRoaXMpO1xuICAgIHRoaXMub3BlblN1YlN0ZXAodGhpcy5zZWxlY3RUZW50c1N1YlN0ZXApO1xuICB9XG4gIG9wZW5TZWxlY3RUZW50KCkge1xuICAgIHRoaXMub3BlblN1YlN0ZXAodGhpcy5zZWxlY3RUZW50c1N1YlN0ZXApO1xuICB9XG4gIHJlbW92ZURhdGFSb3codGVudCkge1xuICAgIHRoaXMud2l6YXJkRm9ybS5zZWxlY3RlZFRlbnRzLnJlbW92ZSh0ZW50KTtcbiAgfVxufTtcblxua2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkU3RlcEVxdWlwbWVudCA9IGNsYXNzIFdpemFyZFN0ZXBFcXVpcG1lbnQgZXh0ZW5kcyBrYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdGVwIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgIHRoaXMuc2VsZWN0RXF1aXBtZW50dWJTdGVwID0gbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBTZWxlY3RFcXVpcG1lbnQodGhpcyk7XG4gICAgdGhpcy5vcGVuU3ViU3RlcCh0aGlzLnNlbGVjdEVxdWlwbWVudHViU3RlcCk7XG4gIH1cbiAgb3BlblNlbGVjdEVxdWlwbWVudCgpIHtcbiAgICB0aGlzLm9wZW5TdWJTdGVwKHRoaXMuc2VsZWN0RXF1aXBtZW50dWJTdGVwKTtcbiAgfVxuICByZW1vdmVEYXRhUm93KGVxdWlwbWVudCkge1xuICAgIHRoaXMud2l6YXJkRm9ybS5zZWxlY3RlZEVxdWlwbWVudC5yZW1vdmUoZXF1aXBtZW50KTtcbiAgfSBcbn07XG5cbmthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBFdmVudCA9IGNsYXNzIFdpemFyZFN0ZXBFdmVudCBleHRlbmRzIGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXAge1xufTtcblxuXG5rYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdGVwQ29udGFjdCA9IGNsYXNzIFdpemFyZFN0ZXBDb250YWN0IGV4dGVuZHMga2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkU3RlcCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLmF2YWlsYWJsZUdlbmRlcnMgPSBrby5vYnNlcnZhYmxlQXJyYXkoWydIZXJyJywgJ0ZyYXUnXSk7XG4gIH1cbn07XG5cbmthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBTZWxlY3RUZW50cyA9IGNsYXNzIFdpemFyZFN0ZXBTZWxlY3RUZW50cyBleHRlbmRzIGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN1YlN0ZXAge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIC4uLmFyZ3MpIHtcbiAgICBzdXBlcihwYXJlbnQsIC4uLmFyZ3MpO1xuICB9XG4gIHNlbGVjdFRlbnQodGVudCkge1xuICAgIHRoaXMucGFyZW50LndpemFyZEZvcm0uc2VsZWN0ZWRUZW50cy5wdXNoKE9iamVjdC5hc3NpZ24obmV3IGthaC50ZW50Y29uZmlndXJhdG9yLlRlbnQoKSwgdGVudCkpO1xuICAgIHRoaXMucGFyZW50LmNsb3NlU3ViU3RlcCgpO1xuICB9XG59O1xuXG5rYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdGVwU2VsZWN0RXF1aXBtZW50ID0gY2xhc3MgV2l6YXJkU3RlcFNlbGVjdEVxdWlwbWVudCBleHRlbmRzIGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN1YlN0ZXAge1xuICBzZWxlY3RFcXVpcG1lbnQoZXF1aXBtZW50KSB7XG4gICAgdGhpcy5wYXJlbnQud2l6YXJkRm9ybS5zZWxlY3RlZEVxdWlwbWVudC5wdXNoKE9iamVjdC5hc3NpZ24obmV3IGthaC50ZW50Y29uZmlndXJhdG9yLkVxdWlwbWVudCgpLCBlcXVpcG1lbnQpKTtcbiAgICB0aGlzLnBhcmVudC5jbG9zZVN1YlN0ZXAoKTtcbiAgfVxufTtcblxua2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkRm9ybSA9IGNsYXNzIFdpemFyZEZvcm0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmZpcnN0TmFtZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmxhc3ROYW1lID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc2FsdXRhdGlvbiA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmNvbXBhbnkgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zdHJlZXQgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zdHJlZXRuciA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnppcCA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmxvY2F0aW9uID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZW1haWwgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5waG9uZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmNvbW1lbnQgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5hY2NlcHRUZXJtcyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuXG4gICAgdGhpcy5ldmVudG5hbWUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5ldmVudGRheXMgPSBrby5vYnNlcnZhYmxlKDEpO1xuICAgIHRoaXMuZXZlbnRsb2NhdGlvbiA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmV2ZW50bG9jYXRpb25kaXN0YW5jZSA9IGtvLm9ic2VydmFibGUoMCk7XG4gICAgdGhpcy5ldmVudHN0YXJ0ZGF0ZSA9IGtvLm9ic2VydmFibGUoKTtcblxuICAgIHRoaXMudGVudHMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB0aGlzLmVxdWlwbWVudCA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuICAgIHRoaXMuc2VsZWN0ZWRUZW50cyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuICAgIHRoaXMuc2VsZWN0ZWRFcXVpcG1lbnQgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB0aGlzLnRyYW5zcG9ydFByaWNlID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIHRoaXMuZXZlbnRsb2NhdGlvbmRpc3RhbmNlKCkgPD0gMTAwMDAgKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gNTAuLSBlYWNoIDMwa20gKiAyIChmb3IgdHdpY2UgdGhlIGRpc3RhbmNlKVxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZXZlbnRsb2NhdGlvbmRpc3RhbmNlKCkgLyAxMDAwIC8gMzApICogNTAgKiAyO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMudG90YWxUZW50c1ByaWNlID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY291bnRfb2Jqc19hdHRyaWJ1dGUodGhpcy5zZWxlY3RlZFRlbnRzKCksICdwcmljZScpO1xuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMudG90YWxFcXVpcG1lbnRQcmljZSA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvdW50X29ianNfYXR0cmlidXRlKHRoaXMuc2VsZWN0ZWRFcXVpcG1lbnQoKSwgJ3ByaWNlJyk7XG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy50b3RhbFByaWNlID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICAvLyBJbmNsdWRlcyB0aGUgZXZlbnRkYXlzXG4gICAgICByZXR1cm4gKHRoaXMudG90YWxUZW50c1ByaWNlKCkgKyB0aGlzLnRvdGFsRXF1aXBtZW50UHJpY2UoKSkgKiB0aGlzLmV2ZW50ZGF5cygpICsgdGhpcy50cmFuc3BvcnRQcmljZSgpO1xuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMudG90YWxNaW5QZXJzb25zID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY291bnRfb2Jqc19hdHRyaWJ1dGUodGhpcy5zZWxlY3RlZFRlbnRzKCksICdtaW5QZXJzb25zJyk7XG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy50b3RhbE1heFBlcnNvbnMgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb3VudF9vYmpzX2F0dHJpYnV0ZSh0aGlzLnNlbGVjdGVkVGVudHMoKSwgJ21heFBlcnNvbnMnKTtcbiAgICB9LCB0aGlzKTtcbiAgICB0aGlzLnRvdGFsU3F1YXJlTWV0ZXJzID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY291bnRfb2Jqc19hdHRyaWJ1dGUodGhpcy5zZWxlY3RlZFRlbnRzKCksICdzcXVhcmVNZXRlcicpO1xuICAgIH0sIHRoaXMpO1xuICB9XG4gIF9jb3VudF9vYmpzX2F0dHJpYnV0ZShvYmpzLCBhdHRyKSB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqKSB7IHRvdGFsICs9IG9ialthdHRyXTsgfSk7XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG59O1xuXG5rYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmQgPSBjbGFzcyBXaXphcmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBhamF4dXJsID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIC8vIHdvcmRwcmVzcyBzZXRzIHRoZSBhamF4dXJsIGluIHRoZSBnbG9iYWwgc2NvcGUuXG4gICAgICAvLyBJZiB0aGUgYWpheHVybCBpcyBub3QgaW5pdGlhbGl6ZWQsIHdlIGFyZSBub3QgaW4gYSB3b3JkcHJlc3NcbiAgICAgIC8vIGVudmlyb25tZW50LlxuICAgICAgdGhpcy5kZWJ1ZyA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMubG9hZERhdGEoKTtcbiAgICB0aGlzLmZvcm0gPSBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkRm9ybSgpO1xuICAgIC8vIDAgPSBGaWxsb3V0LCAxID0gU3VjY2VzcywgMiA9IEVycm9yLCAzID0gcGVuZGluZywgNCA9IEZvcm1WYWxpZGF0aW9uIGVycm9yXG4gICAgdGhpcy5tb2RlID0ga28ub2JzZXJ2YWJsZSgwKTtcbiAgICB0aGlzLnN1Ym1pdHRlZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuc3RlcHMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW1xuICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBUZW50cygnWmVsdCcsIHRoaXMuZm9ybSksXG4gICAgICBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuV2l6YXJkU3RlcEVxdWlwbWVudCgnWnViZWjDtnInLCB0aGlzLmZvcm0pLFxuICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLldpemFyZFN0ZXBFdmVudCgnQW5sYXNzJywgdGhpcy5mb3JtKSxcbiAgICAgIG5ldyBrYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmRTdGVwQ29udGFjdCgnS29udGFrdCcsIHRoaXMuZm9ybSlcbiAgICBdKTtcbiAgICB0aGlzLmFkZHJlc3NOb3RGb3VuZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuY3VycmVudFN0ZXAgPSBrby5vYnNlcnZhYmxlKHRoaXMuc3RlcHMoKVswXSk7XG4gICAgdGhpcy5pc0xhc3RTdGVwID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50V2l6YXJkU3RlcElkKCkgPj0gdGhpcy5zdGVwcygpLmxlbmd0aCAtIDE7XG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy5zaG93UHJldkJ1dHRvbiA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFdpemFyZFN0ZXBJZCgpID4gMDtcbiAgICB9LCB0aGlzKTtcbiAgICB0aGlzLm5leHRCdXR0b25UZXh0ID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIHRoaXMuaXNMYXN0U3RlcCgpICkge1xuICAgICAgICByZXR1cm4gXCJPZmZlcnRlIGFuZm9yZGVyblwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiV2VpdGVyXCI7XG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy5zaG93TmV4dEJ1dHRvbiA9IHRydWU7XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKGxldCBzdGVwIG9mIHRoaXMuc3RlcHMoKSkge1xuICAgICAgICBzdGVwLmFjdGl2ZShmYWxzZSk7XG4gICAgICAgIGlmICggdGhpcy5jdXJyZW50U3RlcCgpID09IHN0ZXAgKSB7XG4gICAgICAgICAgc3RlcC5hY3RpdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgICBqUXVlcnkoZG9jdW1lbnQpLm9uKCdmb2N1c291dCcsICdpbnB1dFtyZXF1aXJlZF0sIHNlbGVjdFtyZXF1aXJlZF0nLCBmdW5jdGlvbihzZWxmKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYudmFsaWRhdGVGaWVsZCh0aGlzKTtcbiAgICAgIH07XG4gICAgfSh0aGlzKSk7XG4gICAga2FoLnRlbnRjb25maWd1cmF0b3IuZ29vZ2xlQVBJTG9hZGVkLnRoZW4oZnVuY3Rpb24oc2VsZikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmluaXRHb29nbGVTZWFyY2goKTtcbiAgICAgIH07XG4gICAgfSh0aGlzKSk7XG4gIH1cbiAgbmV4dCgpIHtcbiAgICBpZiAoIHRoaXMuaXNMYXN0U3RlcCgpICkge1xuICAgICAgdGhpcy5zZW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudFN0ZXAodGhpcy5zdGVwcygpW3RoaXMuY3VycmVudFdpemFyZFN0ZXBJZCgpICsgMV0pO1xuICAgIH1cbiAgfVxuICBwcmV2aW91cygpIHtcbiAgICB0aGlzLmN1cnJlbnRTdGVwKHRoaXMuc3RlcHMoKVt0aGlzLmN1cnJlbnRXaXphcmRTdGVwSWQoKSAtMV0pO1xuICB9XG4gIGxvYWREYXRhKCkge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgcmVxdWVzdCA9IHRoaXMuX21ha2VfcmVxdWVzdCh7YWN0aW9uOiAna2FoX2dldF9kYXRhJ30pO1xuICAgIHJlcXVlc3QudGhlbihcbiAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCB0ZW50cyA9IFtdO1xuICAgICAgICBsZXQgZXF1aXBtZW50ID0gW107XG4gICAgICAgIGlmIChzZWxmLmRlYnVnKSB7XG4gICAgICAgICAgdGVudHMgPSBbXG4gICAgICAgICAgICBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuVGVudCgxLCAnWmVsdHRpdGVsIDEnLCAwLCA0LCAyMCwgMTAwLCAxNTApLFxuICAgICAgICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLlRlbnQoMiwgJ1plbHR0aXRlbCAyJywgMzAsIDgsIDIwLCAyMDAsIDMwMCksXG4gICAgICAgICAgICBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuVGVudCgzLCAnWmVsdHRpdGVsIDMnLCA1MCwgMTIsIDIwLCAxNTAsIDMwMCksXG4gICAgICAgICAgXTtcbiAgICAgICAgICBlcXVpcG1lbnQgPSBbXG4gICAgICAgICAgICBuZXcga2FoLnRlbnRjb25maWd1cmF0b3IuRXF1aXBtZW50KDEsICdMYW1wZScsIDUsICdrbGVpbmUgTGFtcGUgZsO8ciBkYXMgREogUHVsdCcpLFxuICAgICAgICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLkVxdWlwbWVudCgyLCAnQm9kZW5wbGF0dGUgMzB4MzAgY20nLCAwLCAnVW0gZGVuIEJvZGVuIHp1IHNjaMO8dHplbicpLFxuICAgICAgICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLkVxdWlwbWVudCgzLCAnVGlzY2ggLSAzIE1ldGVyICcsIDksIFwiZsO8ciA2IFBlcnNvbmVuXCIpLFxuICAgICAgICAgICAgbmV3IGthaC50ZW50Y29uZmlndXJhdG9yLkVxdWlwbWVudCg0LCAnVGlzY2ggLSA1IE1ldGVyICcsIDksIFwiZsO8ciA5IFBlcnNvbmVuXCIpXG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNwb25zZS50ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHRlbnQpIHtcbiAgICAgICAgICAgIHRlbnRzLnB1c2gobmV3IGthaC50ZW50Y29uZmlndXJhdG9yLlRlbnQoXG4gICAgICAgICAgICAgIHRlbnQuaWQsXG4gICAgICAgICAgICAgIHRlbnQudGl0bGUsXG4gICAgICAgICAgICAgIHRlbnQucHJpY2UsXG4gICAgICAgICAgICAgIHRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICB0ZW50LndpZHRoLFxuICAgICAgICAgICAgICB0ZW50Lm1pblBlcnNvbnMsXG4gICAgICAgICAgICAgIHRlbnQubWF4UGVyc29ucykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc3BvbnNlLmVxdWlwbWVudC5mb3JFYWNoKGZ1bmN0aW9uKGVxdWlwbWVudEl0ZW0pIHtcbiAgICAgICAgICAgIGVxdWlwbWVudC5wdXNoKG5ldyBrYWgudGVudGNvbmZpZ3VyYXRvci5FcXVpcG1lbnQoXG4gICAgICAgICAgICAgIGVxdWlwbWVudEl0ZW0uaWQsXG4gICAgICAgICAgICAgIGVxdWlwbWVudEl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgIGVxdWlwbWVudEl0ZW0ucHJpY2UsXG4gICAgICAgICAgICAgIGVxdWlwbWVudEl0ZW0uZGVzY3JpcHRpb24pKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmZvcm0udGVudHModGVudHMpO1xuICAgICAgICBzZWxmLmZvcm0uZXF1aXBtZW50KGVxdWlwbWVudCk7XG4gICAgICB9KTtcbiAgfVxuICBzZW5kKCkge1xuICAgIGpRdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcbiAgICBpZiAoICF0aGlzLnZhbGlkYXRlRm9ybSgpICkge1xuICAgICAgdGhpcy5tb2RlKDQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm1vZGUoMyk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgYWN0aW9uOiAna2FoX3NlbmRfb2ZmZXInLFxuICAgICAgc2FsdXRhdGlvbjogdGhpcy5mb3JtLnNhbHV0YXRpb24oKSxcbiAgICAgIGZpcnN0TmFtZTogdGhpcy5mb3JtLmZpcnN0TmFtZSgpLFxuICAgICAgbGFzdE5hbWU6IHRoaXMuZm9ybS5sYXN0TmFtZSgpLFxuICAgICAgY29tcGFueTogdGhpcy5mb3JtLmNvbXBhbnkoKSxcbiAgICAgIHN0cmVldDogdGhpcy5mb3JtLnN0cmVldCgpLFxuICAgICAgc3RyZWV0bnI6IHRoaXMuZm9ybS5zdHJlZXRucigpLFxuICAgICAgemlwOiB0aGlzLmZvcm0uemlwKCksXG4gICAgICBsb2NhdGlvbjogdGhpcy5mb3JtLmxvY2F0aW9uKCksXG4gICAgICBlbWFpbDogdGhpcy5mb3JtLmVtYWlsKCksXG4gICAgICBwaG9uZTogdGhpcy5mb3JtLnBob25lKCksXG4gICAgICBjb21tZW50OiB0aGlzLmZvcm0uY29tbWVudCgpLFxuICAgICAgYWNjZXB0VGVybXM6IHRoaXMuZm9ybS5hY2NlcHRUZXJtcygpLFxuICAgICAgZXZlbnRuYW1lOiB0aGlzLmZvcm0uZXZlbnRuYW1lKCksXG4gICAgICBldmVudGRheXM6IHRoaXMuZm9ybS5ldmVudGRheXMoKSxcbiAgICAgIGV2ZW50bG9jYXRpb246IHRoaXMuZm9ybS5ldmVudGxvY2F0aW9uKCksXG4gICAgICBldmVudGxvY2F0aW9uZGlzdGFuY2U6IHRoaXMuZm9ybS5ldmVudGxvY2F0aW9uZGlzdGFuY2UoKSxcbiAgICAgIGV2ZW50c3RhcnRkYXRlOiB0aGlzLmZvcm0uZXZlbnRzdGFydGRhdGUoKSxcbiAgICAgIHRyYW5zcG9ydFByaWNlOiB0aGlzLmZvcm0udHJhbnNwb3J0UHJpY2UoKSxcbiAgICAgIHRvdGFsVGVudHNQcmljZTogdGhpcy5mb3JtLnRvdGFsVGVudHNQcmljZSgpLFxuICAgICAgdG90YWxFcXVpcG1lbnRQcmljZTogdGhpcy5mb3JtLnRvdGFsRXF1aXBtZW50UHJpY2UoKSxcbiAgICAgIHRvdGFsUHJpY2U6IHRoaXMuZm9ybS50b3RhbFByaWNlKCksXG4gICAgICB0b3RhbE1pblBlcnNvbnM6IHRoaXMuZm9ybS50b3RhbE1pblBlcnNvbnMoKSxcbiAgICAgIHRvdGFsTWF4UGVyc29uczogdGhpcy5mb3JtLnRvdGFsTWF4UGVyc29ucygpLFxuICAgICAgdG90YWxTcXVhcmVNZXRlcnM6IHRoaXMuZm9ybS50b3RhbFNxdWFyZU1ldGVycygpLFxuICAgICAgc2VsZWN0ZWRUZW50czogdGhpcy5mb3JtLnNlbGVjdGVkVGVudHMoKSxcbiAgICAgIHNlbGVjdGVkRXF1aXBtZW50OiB0aGlzLmZvcm0uc2VsZWN0ZWRFcXVpcG1lbnQoKVxuICAgIH07XG5cbiAgICBsZXQgcmVxdWVzdCA9IHRoaXMuX21ha2VfcmVxdWVzdChkYXRhKTtcbiAgICByZXF1ZXN0LnRoZW4oXG4gICAgICBmdW5jdGlvbigpIHsgc2VsZi5tb2RlKDEpOyBzZWxmLnN1Ym1pdHRlZCh0cnVlKX0sXG4gICAgICBmdW5jdGlvbigpIHsgc2VsZi5tb2RlKDIpOyB9KTtcbiAgfVxuICByZWFkYWJsZVByaWNlKHByaWNlKSB7XG4gICAgcmV0dXJuIHByaWNlICsgJyBDSEYnO1xuICB9XG4gIHJlYWRhYmxlUGVyc29ucyhtaW5QZXJzb25zLCBtYXhQZXJzb25zKSB7XG4gICAgcmV0dXJuIG1pblBlcnNvbnMgKyAnIC0gJyArIG1heFBlcnNvbnMgKyAnIFBlcnNvbmVuJztcbiAgfVxuICBjdXJyZW50V2l6YXJkU3RlcElkKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzKCkuaW5kZXhPZih0aGlzLmN1cnJlbnRTdGVwKCkpO1xuICB9XG4gIF9tYWtlX3JlcXVlc3QoZGF0YSkge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIGlmICggc2VsZi5kZWJ1ZyApIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpRdWVyeS5wb3N0KGFqYXh1cmwsIGRhdGEpXG4gICAgICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHsgXG4gICAgICAgICAgICBpZiAoIHR5cGVvZihyZXNwb25zZS5zdWNjZXNzKSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG4gICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmFpbChmdW5jdGlvbihlcnJvcikgeyByZWplY3QoZXJyb3IpOyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB2YWxpZGF0ZUZvcm0oKSB7XG4gICAgbGV0IGlzSW52YWxpZEZvcm0gPSBmYWxzZTtcbiAgICBqUXVlcnkoJyN3aXphcmQtZm9ybSBpbnB1dFtyZXF1aXJlZF0sICN3aXphcmQtZm9ybSBzZWxlY3RbcmVxdWlyZWRdJykuZWFjaChmdW5jdGlvbihzZWxmKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY291bnRlciwgZmllbGQpIHtcbiAgICAgICAgaWYgKCAhc2VsZi52YWxpZGF0ZUZpZWxkKGZpZWxkKSApIHsgXG4gICAgICAgICAgaWYgKCAhaXNJbnZhbGlkRm9ybSApIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0ZXAoa28uZGF0YUZvcihqUXVlcnkoZmllbGQpLmNsb3Nlc3QoJy53aXphcmRTdGVwVmlldycpWzBdKSk7XG4gICAgICAgICAgICBpc0ludmFsaWRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSh0aGlzKSk7XG4gICAgcmV0dXJuICFpc0ludmFsaWRGb3JtOyAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBmb3JtIGlzIHZhbGlkXG4gIH1cbiAgdmFsaWRhdGVGaWVsZChmaWVsZCkge1xuICAgIGxldCBtc2dCb3ggPWpRdWVyeSgnLmZvcm1WYWxpZGF0aW9uRXJyb3InLCBqUXVlcnkoZmllbGQpLmNsb3Nlc3QoJ3RkJykpWzBdO1xuICAgIGlmICggZmllbGQuY2hlY2tWYWxpZGl0eSgpICkge1xuICAgICAgalF1ZXJ5KG1zZ0JveCkuaGlkZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZ0JveC5pbm5lckhUTUwgPSBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgIGpRdWVyeShtc2dCb3gpLnNob3coKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlRGlzdGFuY2UocGxhY2UpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZihwbGFjZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzZWxmLmFkZHJlc3NOb3RGb3VuZCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgb3JpZ2luID0gJ0hhdXB0c3RyYXNzZSA5NSwgMTcxNSBBbHRlcnN3aWwsIFNjaHdlaXonO1xuICAgIGxldCBkZXN0aW5hdGlvbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCksIHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKTtcbiAgICBsZXQgc2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXN0YW5jZU1hdHJpeFNlcnZpY2UoKTtcbiAgICBzZXJ2aWNlLmdldERpc3RhbmNlTWF0cml4KHtcbiAgICAgIG9yaWdpbnM6IFtvcmlnaW5dLFxuICAgICAgZGVzdGluYXRpb25zOiBbZGVzdGluYXRpb25dLFxuICAgICAgdHJhdmVsTW9kZTogZ29vZ2xlLm1hcHMuVHJhdmVsTW9kZS5EUklWSU5HLH0sXG4gICAgICBmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuRGlzdGFuY2VNYXRyaXhTdGF0dXMuT0spIHtcbiAgICAgICAgICBsZXQgZGlzdGFuY2VtYXRyaXggPSByZXNwb25zZS5yb3dzWzBdLmVsZW1lbnRzWzBdO1xuICAgICAgICAgIGlmIChkaXN0YW5jZW1hdHJpeC5zdGF0dXMgPT0gZ29vZ2xlLm1hcHMuRGlzdGFuY2VNYXRyaXhTdGF0dXMuT0spIHtcbiAgICAgICAgICAgIHNlbGYuZm9ybS5ldmVudGxvY2F0aW9uZGlzdGFuY2UoZGlzdGFuY2VtYXRyaXguZGlzdGFuY2UudmFsdWUpO1xuICAgICAgICAgICAgc2VsZi5hZGRyZXNzTm90Rm91bmQoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgfVxuICBpbml0R29vZ2xlU2VhcmNoKCkge1xuICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmVudGxvY2F0aW9uJyk7XG4gICAgbGV0IHNlYXJjaEJveCA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuU2VhcmNoQm94KGlucHV0KTtcbiAgICBzZWFyY2hCb3guYWRkTGlzdGVuZXIoJ3BsYWNlc19jaGFuZ2VkJywgZnVuY3Rpb24oc2VsZikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmNhbGN1bGF0ZURpc3RhbmNlKHNlYXJjaEJveC5nZXRQbGFjZXMoKVswXSk7XG4gICAgICB9O1xuICAgIH0odGhpcykpO1xuICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGlucHV0LCAna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHsgXG4gICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7IFxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgXG4gICAgICB9XG4gICAgfSk7IFxuICB9O1xufTtcblxua2FoLnRlbnRjb25maWd1cmF0b3IuaW5pdEdvb2dsZVNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICBqUXVlcnkod2luZG93KS50cmlnZ2VyKCdrYWhHb29nbGVBUElMb2FkZWQnKTtcbn07XG5cbmpRdWVyeSh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gIGlmIChqUXVlcnkoJyN3aXphcmQtZm9ybScpLmxlbmd0aCA+IDApIHtcbiAgICBrby5hcHBseUJpbmRpbmdzKG5ldyBrYWgudGVudGNvbmZpZ3VyYXRvci5XaXphcmQoKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZC1mb3JtJykpOyAgXG4gIH1cbn0pO1xuIl19
